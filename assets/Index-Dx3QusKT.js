import{r as h,j as e,s as i,C as G,l as v,S as B}from"./index-DxjRcXdg.js";const N=h.createContext(null),P={LENGTH:"length",TEMPERATURE:"temperature"},k={empty_value:"The value to convert can not empty!",invalid_number:"Invalid value, should be a number!",invalid_unit:"Invalid measurement units!",invalid_measurement:"Invalid systems of measurement!",invalid_route:"Route doesn't exist!",default_error:"Something went wrong, please try again later!"},K=6,H=()=>{function t(){const r=new Date,o={weekday:"short",year:"numeric",month:"short",day:"numeric"};return new Intl.DateTimeFormat("en-US",o).format(r)}return e.jsx(e.Fragment,{children:e.jsx("div",{className:i["converter__current-date"],children:t()})})};class V{constructor(r,o,s){this.valueConvert=Number(r),this.fromPower=Number(o),this.toPower=Number(s)}inMetricSystem(){return this.valueConvert*(10**this.fromPower/10**this.toPower)}inImperialSystem(){return this.valueConvert*(this.fromPower/this.toPower)}}class $ extends V{constructor(r,o,s,l){super(r,o,s),this.metresPower=l}fromMetricToImperial(){return this.valueConvert*(10**this.fromPower/this.metresPower)}fromImperialToMetric(){return this.valueConvert*(this.metresPower/10**this.toPower)}}const W=({valueConvert:t,fromPower:r,toPower:o,metresPower:s,classConverter:l,methodConverter:m})=>new l(t,r,o,s)[w[m]](),M=[{name:"kilo",type:"metric-system",symbol:"km",power:3},{name:"hecto",type:"metric-system",symbol:"hm",power:2},{name:"deca",type:"metric-system",symbol:"dam",power:1},{name:"meter",type:"metric-system",symbol:"m",power:0},{name:"deci",type:"metric-system",symbol:"dm",power:-1},{name:"centi",type:"metric-system",symbol:"cm",power:-2},{name:"milli",type:"metric-system",symbol:"mm",power:-3},{name:"inch",type:"imperial-system",symbol:"in",power:1/12,metres:.0254},{name:"foot",type:"imperial-system",symbol:"ft",power:1,metres:.3048},{name:"yard",type:"imperial-system",symbol:"yd",power:3,metres:.9144},{name:"mile",type:"imperial-system",symbol:"mi",power:5280,metres:1609.344}],w={inMetricSystem:"inMetricSystem",inImperialSystem:"inImperialSystem",fromMetricToImperial:"fromMetricToImperial",fromImperialToMetric:"fromImperialToMetric"},L={sameSystem:V,differentSystem:$};class I{constructor(r,o,s){this.valueConvert=Number(r),this.fromFreezePoint=Number(o),this.toFreezePoint=Number(s)}toCelsius(){return this.valueConvert}toKevin(){return this.valueConvert}toFahrenheit(){return this.valueConvert}}class Y extends I{constructor(r,o,s){super(r,o,s)}toKevin(){return this.valueConvert+this.toFreezePoint}toFahrenheit(){return this.valueConvert*1.8+this.toFreezePoint}}class Z extends I{constructor(r,o,s){super(r,o,s)}toCelsius(){return this.valueConvert-this.fromFreezePoint}toFahrenheit(){return(this.valueConvert-this.fromFreezePoint)*1.8+this.toFreezePoint}}class q extends I{constructor(r,o,s){super(r,o,s)}toCelsius(){return(this.valueConvert-this.fromFreezePoint)/1.8}toKevin(){return(this.valueConvert-this.fromFreezePoint)/1.8+this.toFreezePoint}}const J=({valueConvert:t,fromFreezePoint:r,toFreezePoint:o,classConverter:s,methodConverter:l})=>new s(t,r,o)[f[l]](),z=[{name:"Kelvin",type:"temperature",symbol:"K",absZero:0,freezePoint:273.15},{name:"Celsius",type:"temperature",symbol:"C",absZero:-273.15,freezePoint:0},{name:"Fahrenheit",type:"temperature",symbol:"F",absZero:-459.67,freezePoint:32}],f={toCelsius:"toCelsius",toKevin:"toKevin",toFahrenheit:"toFahrenheit"},T={temperatureConverter:I,celsiusConverter:Y,kelvinConverter:Z,fahrenheitConverter:q};function E(t,r,o){for(let s=0;s<t.length;s++)if(t[s][r]===o){let l={index:s,name:t[s].name,unitSystem:t[s].type,symbol:t[s][r]};return Object.prototype.hasOwnProperty.call(t[s],"power")&&(l.power=t[s].power),Object.prototype.hasOwnProperty.call(t[s],"metres")&&(l.metres=t[s].metres),Object.prototype.hasOwnProperty.call(t[s],"freezePoint")&&(l.freezePoint=t[s].freezePoint),l}return-1}function D({sysMeasurement:t}){let r={symbols:[],status:!0,message:""};switch(t){case P.LENGTH:M.forEach(o=>{r.symbols.push(o.symbol)});break;case P.TEMPERATURE:z.forEach(o=>{r.symbols.push(o.symbol)});break;default:r.status=!1,r.message=k.invalid_measurement;break}return r}function U(t,r){let o=Number(t.toFixed(r));return o===o&&o%1!==0?o:o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function R({unitSystem:t,fromIndex:r,toIndex:o,valueConvert:s}){let l={status:"failed",valueConverted:0};const m=D({sysMeasurement:t});if(m.status==!1||m.symbols.length==0)l.status="failed";else{let u=m.symbols,a={from:null,to:null},n={};switch(t){case P.LENGTH:a.from=E(M,"symbol",String(u[r]).trim()),a.to=E(M,"symbol",String(u[o]).trim()),a.from.unitSystem==a.to.unitSystem?(n.classConverter=L.sameSystem,(a.from.unitSystem&&a.to.unitSystem)==="metric-system"?n.methodConverter=w.inMetricSystem:n.methodConverter=w.inImperialSystem):(n.classConverter=L.differentSystem,a.from.unitSystem=="metric-system"&&a.to.unitSystem=="imperial-system"?n.methodConverter=w.fromMetricToImperial:n.methodConverter=w.fromImperialToMetric),n.valueConvert=Number(s),n.fromPower=a.from.power,n.toPower=a.to.power,n.metresPower=Object.prototype.hasOwnProperty.call(a.from,"metres")?a.from.metres:a.to.metres,l.valueConverted=U(W(n),K),l.status="success";break;case P.TEMPERATURE:a.from=E(z,"symbol",String(u[r]).trim()),a.to=E(z,"symbol",String(u[o]).trim()),a.from.symbol==="C"?(n.classConverter=T.celsiusConverter,n.fromFreezePoint=a.from.freezePoint,n.toFreezePoint=a.to.freezePoint,a.to.symbol==="K"?n.methodConverter=f.toKevin:a.to.symbol==="F"?n.methodConverter=f.toFahrenheit:n.methodConverter=f.toCelsius):a.from.symbol==="K"?(n.classConverter=T.kelvinConverter,n.fromFreezePoint=a.from.freezePoint,n.toFreezePoint=a.to.freezePoint,a.to.symbol==="C"?n.methodConverter=f.toCelsius:a.to.symbol==="F"?n.methodConverter=f.toFahrenheit:n.methodConverter=f.toKevin):a.from.symbol==="F"&&(n.classConverter=T.fahrenheitConverter,n.fromFreezePoint=a.from.freezePoint,n.toFreezePoint=a.to.freezePoint,a.to.symbol==="C"?n.methodConverter=f.toCelsius:a.to.symbol==="K"?n.methodConverter=f.toKevin:n.methodConverter=f.toFahrenheit),n.valueConvert=Number(s),l.valueConverted=U(J(n),K),l.status="success";break;default:l.status="failed",l.valueConverted="NaN";break}}return l}const Q=()=>{const{systemMeasurement:t,stateCheckedFrom:r,stateCheckedTo:o,value:s,resultConverted:l,invalidDataContext:m,messageErrorContext:u}=h.useContext(N),[a]=r,[n]=o,[x,b]=s,[,_]=l,[j,p]=m,[g,d]=u;function y({value:C}){return isNaN(Number(C))?(p(!0),d(k.invalid_number),!1):(p(!1),d(""),!0)}function S(C){if(y({value:C.target.value.toString().trim()})){let c=R({unitSystem:t,fromIndex:a.isChecked,toIndex:n.isChecked,valueConvert:C.target.value});c.status=="success"?(_(c.valueConverted),b(C.target.value)):console.log(k.default_error)}}return e.jsx(e.Fragment,{children:e.jsx("div",{className:i.converter__value,children:e.jsxs("div",{className:i.form__wrap,children:[e.jsx("input",{className:[i.form__input,i["form__input--from"],j&&i.form__error].join(" "),type:"text",name:"valueConvert",id:"valueConvert",value:x,required:"",onChange:S}),e.jsx("label",{className:i.form__title,htmlFor:"valueConvert",children:"From"}),e.jsx("span",{className:[i["form__error-msg"],j&&i["form__error-msg--show"]].join(" "),id:"msgError",children:g})]})})})},A="Â°";function X({children:t,isSmall:r}){return e.jsx(e.Fragment,{children:e.jsx("div",{className:[i.select__box,r&&i["select__box--small"]].join(" "),children:t})})}function ee({children:t,name:r,isSmall:o,isError:s}){return e.jsx(e.Fragment,{children:e.jsx("div",{id:`${r}Current`,className:[i.select__current,o?i["select__current--small"]:"",r=="from"?i.select__from:"",r=="to"?i.select__to:"",s?i["select__current--error"]:""].join(" "),tabIndex:1,children:t})})}function te({dataItem:t,name:r,handleChange:o,checkedItem:s,setCheckedItem:l}){const{isChecked:m}=s,u=t.map((a,n)=>e.jsxs("div",{className:i.select__value,children:[e.jsx("input",{className:i.select__input,type:"radio",id:`${r}-${a}`,value:a,name:r,checked:m==n,onClick:()=>{l({isChecked:n})},onChange:o}),e.jsxs("span",{className:i["select__input-text"],children:[(a=="C"||a=="F")&&A,a]})]},n));return e.jsxs(e.Fragment,{children:[u,e.jsx(G,{className:i.select__icon})]})}function re({dataItem:t,name:r}){const o=t.map(s=>e.jsx("li",{children:e.jsxs("label",{htmlFor:`${r}-${s}`,children:[(s=="C"||s=="F")&&A,s]})},s));return e.jsx(e.Fragment,{children:e.jsx("ul",{className:i.select__list,children:o})})}const O=({name:t,listData:r,handleChange:o,checkedItem:s,setCheckedItem:l,isSmall:m,isError:u=!1})=>e.jsxs(X,{isSmall:m,children:[e.jsx(ee,{name:t,isSmall:m,isError:u,children:e.jsx(te,{dataItem:r,name:t,handleChange:o,checkedItem:s,setCheckedItem:l})}),e.jsx(re,{dataItem:r,name:t})]}),se=({handleSwap:t})=>e.jsx(e.Fragment,{children:e.jsx("button",{onClick:t,className:[v.flex,v["gap-2"],i.btn,i["btn--icon"]].join(" "),children:e.jsx(B,{className:[i.btn__icon,i.icon,i["icon--sm"]].join(" ")})})}),oe=({children:t})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:[v.flex,v["flex--nowrap"],v["flex--y-center"],v["flex--x-space"],v["gap-4"],i.converter__swap].join(" "),children:t})}),ne=({symbols:t})=>{const{systemMeasurement:r,stateCheckedFrom:o,stateCheckedTo:s,value:l,resultConverted:m,invalidDataContext:u,messageErrorContext:a}=h.useContext(N),[n,x]=o,[b,_]=s,[j]=l,[,p]=m,[g,d]=u,[,y]=a;function S(){x({isChecked:b.isChecked}),_({isChecked:n.isChecked});let c=R({unitSystem:r,fromIndex:b.isChecked,toIndex:n.isChecked,valueConvert:j});c.status=="success"?(p(c.valueConverted),d(!1),y("")):(d(!0),y(k.default_error))}function C(c){if(t.indexOf(c.target.value)!=-1){d(!1),y(""),c.target.name=="from"?x({isChecked:t.indexOf(c.target.value)}):_({isChecked:t.indexOf(c.target.value)});let F=R({unitSystem:r,fromIndex:c.target.name=="from"?t.indexOf(c.target.value):n.isChecked,toIndex:c.target.name=="to"?t.indexOf(c.target.value):b.isChecked,valueConvert:j});F.status=="success"?p(F.valueConverted):(d(!0),y(k.default_error))}else d(!0),y(k.invalid_unit)}return e.jsx(e.Fragment,{children:e.jsxs(oe,{children:[e.jsx(O,{name:"from",listData:t,handleChange:C,checkedItem:n,setCheckedItem:x,isSmall:!0,isError:g&&!0}),e.jsx(se,{handleSwap:S}),e.jsx(O,{name:"to",listData:t,handleChange:C,checkedItem:b,setCheckedItem:_,isSmall:!0,isError:g&&!0})]})})},ae=()=>{const{resultConverted:t}=h.useContext(N),[r]=t;return e.jsx(e.Fragment,{children:e.jsx("div",{className:i.converter__result,children:e.jsxs("div",{className:i.form__wrap,children:[e.jsx("div",{className:[i.form__input,i["form__input--to"]].join(" "),children:r}),e.jsx("span",{className:[i.form__title,i["form__title--to"]].join(" "),children:"To"})]})})})},ie=({children:t})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:i.converter,children:t})}),le=({children:t})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:[v.flex,v["flex--y-end"],v["flex--x-space"],v["flex--sm-y"],v["gap-4"],i.converter__header].join(" "),children:t})}),me=({children:t})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:i.converter__body,children:t})}),ce=()=>{const[t,r]=h.useState("length"),[o,s]=h.useState({isChecked:0}),[l,m]=h.useState({isChecked:0}),[u,a]=h.useState({isChecked:0}),[n,x]=h.useState(0),[b,_]=h.useState(0),[j,p]=h.useState(!1),[g,d]=h.useState(""),y=Object.values(P),S=D({sysMeasurement:t});function C(c){const F=D({sysMeasurement:c.target.value});F.status==!1||F.symbols.length==0?(p(!0),d(F.message)):(p(!1),d(""),r(c.target.value),m({isChecked:0}),a({isChecked:0}),_(0),x(0))}return e.jsx(e.Fragment,{children:e.jsxs(ie,{children:[e.jsxs(le,{children:[e.jsx(H,{}),e.jsx(O,{name:"systemMeasurement",listData:y,handleChange:C,checkedItem:o,setCheckedItem:s,isSmall:!1})]}),e.jsx(me,{children:e.jsxs(N.Provider,{value:{systemMeasurement:t??"length",stateCheckedFrom:[l,m],stateCheckedTo:[u,a],value:[n,x],resultConverted:[b,_],invalidDataContext:[j,p],messageErrorContext:[g,d]},children:[e.jsx(Q,{}),e.jsx(ne,{symbols:S.status==!0?S.symbols:["null"]}),e.jsx(ae,{})]})})]})})},de=()=>e.jsx(e.Fragment,{children:e.jsx(ce,{})});export{de as default};
